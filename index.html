<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
        <svg height="500" width="500">
            <circle cx="250" cy="250" r="250" stroke="black" fill="white" />
            <circle cx="250" cy="250" r="150" stroke="grey" fill="white" />
            <line id="hours" x1="250" y1="250" x2="250" y2="250" style="stroke:midnightblue;stroke-width:18;" />
            <line id="hourLume" x1="250" y1="250" x2="250" y2="250" style="stroke:wheat;stroke-width:8;" />
            <line id="minutes" x1="250" y1="250" x2="250" y2="250" style="stroke:midnightblue;stroke-width:14;" />
            <line id="minuteLume" x1="250" y1="250" x2="250" y2="250" style="stroke:wheat;stroke-width:4;" />
            <circle cx="250" cy="250" r="14" stroke="none" fill="midnightblue" />
            <line id="seconds" x1="250" y1="250" x2="250" y2="250" style="stroke:silver;stroke-width:4;" />
            <circle id="bubble" cx="250" cy="250" r="10" stroke="silver" fill="wheat" />
            <circle cx="250" cy="250" r="5" stroke="none" fill="silver" />
        </svg>
        <script>
            const Pi = Math.PI;
            const twoPi = 2 * Pi;
            const secHand = new Hand('seconds', 240, twoPi / 60, 60);
            const minHand = new Hand('minutes', 230, twoPi / 3600);
            const minLume = new Hand('minuteLume', 220, twoPi/3600, -40);
            const hourHand = new Hand('hours', 140, twoPi / 43200);
            const hourLume = new Hand('hourLume', 130, twoPi / 43200, -40)
            const hands = new Hands(secHand, minHand, minLume, hourHand, hourLume);
            const bubble = document.getElementById('bubble');
            const counter = () => Math.ceil((Date.now() / 1000)) - 18000; // Current second in EST.
            window.onload = () => hands.place(counter());
            window.setInterval(() => {
                const count = counter();
                hands.place(count)
                bubble.setAttribute('cx', Math.sin(twoPi / 60 * count) * 150 + 250);
                bubble.setAttribute('cy', Math.cos(twoPi / 60 * count) * -1 * 150 + 250);
            }, 100); // Frequency of 10Hz.
            function Hand(id, length, radian, balanceLength) {
                this.element = document.getElementById(id);
                this.length = length;
                this.radian = radian;
                this.balanceLength = balanceLength;
            }
            Hand.prototype.place = function(count) {
                this.element.setAttribute('x2', Math.sin(this.radian * count) * this.length + 250);
                this.element.setAttribute('y2', Math.cos(this.radian * count) * -1 * this.length + 250);
                if(this.balanceLength) {
                    this.element.setAttribute('x1', Math.sin(this.radian * count + Pi) * this.balanceLength + 250);
                    this.element.setAttribute('y1', Math.cos(this.radian * count + Pi) * -1 * this.balanceLength + 250);
                }
            }
            function Hands(...hands) {
                this.hands = hands;
            }
            Hands.prototype.place = function(count) {
                this.hands.forEach(hand => hand.place(count));
            }
        </script>
    </body>
</html>